<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home | Practice Vault</title>
  <link rel="icon" href="/assets/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- Typography Variables -->
  <link rel="stylesheet" href="/css/typography.css">
  <link rel="stylesheet" href="/css/core.css">
  
  <!-- Firebase -->
  <script src="/firebase/firebase-app-compat.js"></script>
  <script src="/firebase/firebase-auth-compat.js"></script>
  <script src="/firebase/firebase-firestore-compat.js"></script>
  <script src="/firebase/firebase-init.js"></script>
  
  <!-- Mark page as protected (requires login) -->
  <script>document.documentElement.dataset.protected = 'true';</script>
  <script src="/config/auth-guard.js"></script>
  
  <!-- Vault Scripts -->
  <script src="/config/components.js"></script>
  <script src="/config/navigation.js"></script>
  <script src="/config/course-data.js"></script>
  
  <style>
    /* Collapsible Pathway Styles */
    .pathway {
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .pathway-header {
      cursor: pointer;
      user-select: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 32px 24px;
      background-size: cover;
      background-position: center;
      border-radius: 12px 12px 0 0;
      position: relative;
      transition: border-radius 0.3s ease;
    }
    
    .pathway.collapsed .pathway-header {
      border-radius: 12px;
    }
    
    .pathway-header::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.5));
      border-radius: inherit;
      transition: background 0.3s ease;
    }
    
    .pathway.collapsed .pathway-header::before {
      border-radius: 12px;
    }
    
    .pathway-header:hover::before {
      background: linear-gradient(135deg, rgba(0,0,0,0.65), rgba(0,0,0,0.45));
    }
    
    .pathway-header-content,
    .pathway-stats,
    .pathway-toggle {
      position: relative;
      z-index: 1;
    }
    
    .pathway-header-content {
      flex: 1;
    }
    
    .pathway-toggle {
      position: absolute;
      bottom: 16px;
      right: 16px;
      font-size: 20px;
      color: rgba(255,255,255,0.8);
      transition: transform 0.3s ease;
      z-index: 2;
      background: rgba(0,0,0,0.3);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(255,255,255,0.2);
    }
    
    .pathway.collapsed .pathway-toggle {
      transform: rotate(-90deg);
    }
    
    .pathway.collapsed .pathway-content {
      display: none;
    }
    
    .pathway-content {
      overflow: hidden;
      transition: max-height 0.4s ease;
    }
    
    /* Pathway Headers */
    .groove-bg {
      background-image: url('/assets/groove-studies.webp');
    }
    
    .fill-bg {
      background-image: url('/assets/fill-studies.webp');
    }
    
    .stick-bg {
      background-image: url('/assets/stick-studies.webp');
    }
    
    .kick-bg {
      background-image: url('/assets/kick-studies.webp');
    }
    
    .reading-bg {
      background-image: url('/assets/reading.webp');
    }
    
    .single-bg {
      background-image: url('/assets/other-courses.webp');
    }
    
    .pathway-title {
      color: #fff;
      font-size: var(--heading-section);
      font-weight: 700;
      margin: 0 0 8px 0;
    }
    
    .pathway-desc {
      color: rgba(255,255,255,0.9);
      font-size: var(--text-body);
      margin: 0;
      max-width: 600px;
    }
    
    /* Pathway Stats */
    .pathway-stats {
      position: absolute;
      top: 16px;
      right: 16px;
      z-index: 2;
    }
    
    .topic-count {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #06b3fd;
      background: rgba(0,0,0,0.4);
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid rgba(6, 179, 253, 0.4);
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .topic-count-number {
      font-size: 16px;
      font-weight: 700;
      line-height: 1;
    }
    
    /* Mobile pathway header */
    @media (max-width: 768px) {
      .pathway-header {
        padding: 20px 16px;
      }
      
      .pathway-header-content {
        width: 100%;
        padding-right: 0;
        padding-top: 32px;
      }
      
      .pathway-stats {
        top: 12px;
        right: 12px;
      }
      
      .pathway-toggle {
        bottom: 12px;
        right: 12px;
        width: 32px;
        height: 32px;
        font-size: 18px;
      }
      
      .topic-count {
        padding: 4px 8px;
        font-size: 10px;
        gap: 6px;
      }
      
      .topic-count-number {
        font-size: 14px;
      }
    }
    
    /* Topic Card Styles */
    .pathway-topics {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      padding: 24px;
    }
    
    @media (max-width: 1024px) {
      .pathway-topics {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 640px) {
      .pathway-topics {
        grid-template-columns: 1fr;
        padding: 16px;
        gap: 12px;
      }
    }
    
    .topic-card {
      display: block;
      padding: 16px;
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .topic-card:hover {
      border-color: #06b3fd;
      box-shadow: 0 2px 8px rgba(6, 179, 253, 0.1);
      transform: translateY(-2px);
    }
    
    .topic-card.locked {
      opacity: 0.6;
      cursor: not-allowed;
      pointer-events: none;
    }
    
    .topic-card.locked:hover {
      transform: none;
      border-color: #e5e7eb;
      box-shadow: none;
    }
    
    .topic-name {
      font-size: var(--text-ui);
      font-weight: 600;
      color: #1a1a2e;
      margin: 0 0 8px 0;
    }
    
    .topic-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    
    .topic-lessons {
      font-size: var(--text-small);
      color: #6b7280;
    }
    
    .topic-progress {
      font-size: var(--text-small);
      color: #6b7280;
      font-style: italic;
    }
    
    .level-badges {
      display: flex;
      gap: 4px;
    }
    
    .level-badge {
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .level-badge.beg {
      background: #e0f2fe;
      color: #0284c7;
    }
    
    .level-badge.int {
      background: #fef3c7;
      color: #d97706;
    }
    
    .level-badge.adv {
      background: #fee2e2;
      color: #dc2626;
    }
  </style>
  
</head>
<body>
  <div id="page-loader" class="page-loader">
    <div class="loading-spinner"></div>
  </div>
  
  <!-- HERO HEADER -->
  <div class="hero">
    <div class="hero-banner" data-bg="home"></div>
    <div class="hero-content">
      <h1 class="hero-title">Practice Vault</h1>
      <div class="hero-badge">Course Pathways</div>
    </div>
  </div>
  
  <!-- PATHWAYS -->
  <div class="container">
    
    <!-- GROOVE STUDIES -->
    <div class="pathway">
      <div class="pathway-header groove-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Groove Studies</h2>
          <p class="pathway-desc">Progressive groove courses designed to develop your time, coordination, and feel.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">16</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="/gs?eighth-note" class="topic-card">
            <h3 class="topic-name">Eighth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="gs-eighth-note-progress">11 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/gs?quarter-note" class="topic-card">
            <h3 class="topic-name">Quarter Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="gs-quarter-note-progress">10 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/gs?sixteenth-note" class="topic-card">
            <h3 class="topic-name">Sixteenth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="gs-sixteenth-note-progress">10 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/gs?sixteenth-note-2" class="topic-card">
            <h3 class="topic-name">Sixteenth Note - Two Handed</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="gs-sixteenth-note-2-progress">10 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
                <div class="level-badge adv">Adv</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Hi-Hat Control</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Hi-Hat & Ride Variations</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Half & Double-Time Feel</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Triplet Grooves</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">The Shuffle</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Paradiddle Grooves</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Triple Meter</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Linear Grooves</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Ghost Notes</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>

          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Jazz</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">World Grooves</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Odd Time</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
    <!-- FILL STUDIES -->
    <div class="pathway">
      <div class="pathway-header fill-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Fill Studies</h2>
          <p class="pathway-desc">Master drum fills that connect your grooves. Build musical phrasing through progressive levels.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">9</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="/fs?eighth-note" class="topic-card">
            <h3 class="topic-name">Eighth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="fs-eighth-note-progress">7 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?sixteenth-note" class="topic-card">
            <h3 class="topic-name">Sixteenth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="fs-sixteenth-note-progress">22 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
                <div class="level-badge adv">Adv</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?fill-grooves" class="topic-card">
            <h3 class="topic-name">Fill Grooves</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="fs-fill-grooves-progress">7 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?odd-groupings" class="topic-card">
            <h3 class="topic-name">Odd Groupings</h3>
            <div class="topic-meta">
              <span class="topic-lessons">7 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?triplet-fills" class="topic-card">
            <h3 class="topic-name">Triplet Fills</h3>
            <div class="topic-meta">
              <span class="topic-lessons">18 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?open-hihat-fills" class="topic-card">
            <h3 class="topic-name">Open Hi-Hat Fills</h3>
            <div class="topic-meta">
              <span class="topic-lessons">4 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?triple-meter" class="topic-card">
            <h3 class="topic-name">Triple Meter</h3>
            <div class="topic-meta">
              <span class="topic-lessons">17 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
                <div class="level-badge adv">Adv</div>
              </div>
            </div>
          </a>
          
          <a href="/fs?linear-fills" class="topic-card">
            <h3 class="topic-name">Linear Fills</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
                <div class="level-badge adv">Adv</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Odd Time Fills</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
    <!-- STICK STUDIES -->
    <div class="pathway">
      <div class="pathway-header stick-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Stick Studies</h2>
          <p class="pathway-desc">Level up your hands with focused courses targeting hand speed, endurance, rudiments, technique fundamentals and weak hand development.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">1</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="/ss?rudiments" class="topic-card">
            <h3 class="topic-name">Rudiments</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="ss-rudiments-progress">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Hand Speed & Endurance</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Technique</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
    <!-- KICK STUDIES -->
    <div class="pathway">
      <div class="pathway-header kick-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Kick Studies</h2>
          <p class="pathway-desc">A pathway for developing speed, control, and consistency in foot technique, including single and double-kick applications.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">1</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="/ks?double-pedal" class="topic-card">
            <h3 class="topic-name">Double Pedal</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="ks-double-pedal-progress">8 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Single Pedal</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Technique & Pedal Settings</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
    <!-- RHYTHM STUDIES -->
    <div class="pathway">
      <div class="pathway-header reading-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Rhythm Studies</h2>
          <p class="pathway-desc">Develop your ability to read and interpret rhythmic notation with progressive courses designed to build sight-reading fluency.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">2</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="/rs?quarter-eighth-note" class="topic-card">
            <h3 class="topic-name">Quarter & Eighth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="rs-quarter-eighth-note-progress">4 lessons</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
          <a href="/rs?sixteenth-note" class="topic-card">
            <h3 class="topic-name">Sixteenth Note</h3>
            <div class="topic-meta">
              <span class="topic-lessons" id="rs-sixteenth-note-progress">15 lessons</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Triple Meters</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge int">Int</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Odd Meters</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge adv">Adv</div>
              </div>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
    <!-- SINGLE COURSES -->
    <div class="pathway">
      <div class="pathway-header single-bg">
        <div class="pathway-header-content">
          <h2 class="pathway-title">Single Courses</h2>
          <p class="pathway-desc">Single courses and topics outside of the main pathways.</p>
        </div>
        <div class="pathway-stats">
          <div class="topic-count">
            <span class="topic-count-number">0</span>
            Topics
          </div>
        </div>
        <div class="pathway-toggle">▼</div>
      </div>
      <div class="pathway-content">
        <div class="pathway-topics">
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Intro to Drums</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
          <a href="#" class="topic-card locked">
            <h3 class="topic-name">Drum Kit Ergonomics</h3>
            <div class="topic-meta">
              <span class="topic-lessons">Coming Soon</span>
              <div class="level-badges">
                <div class="level-badge beg">Beg</div>
              </div>
            </div>
          </a>
          
        </div>
      </div>
    </div>
    
  </div>
  
  <script>
  // Collapsible pathway functionality
  (function(){
    'use strict';
    
    // Wait for DOM to be ready
    function init() {
      var pathwayHeaders = document.querySelectorAll('.pathway-header');
      
      pathwayHeaders.forEach(function(header) {
        header.addEventListener('click', function() {
          var pathway = header.closest('.pathway');
          pathway.classList.toggle('collapsed');
        });
      });
      
      // Load saved state from localStorage
      var pathways = document.querySelectorAll('.pathway');
      pathways.forEach(function(pathway, index) {
        var saved = localStorage.getItem('pathway-' + index + '-collapsed');
        if (saved === 'true') {
          pathway.classList.add('collapsed');
        }
        
        // Save state when toggled
        pathway.querySelector('.pathway-header').addEventListener('click', function() {
          setTimeout(function() {
            var isCollapsed = pathway.classList.contains('collapsed');
            localStorage.setItem('pathway-' + index + '-collapsed', isCollapsed);
          }, 50);
        });
      });
    }
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
  
  // Auto-populate lesson counts from course-data.js
  (function(){
    'use strict';
    
    function updateLessonCounts() {
      if (!window.VAULT_COURSES) {
        setTimeout(updateLessonCounts, 100);
        return;
      }
      
      for (var courseId in window.VAULT_COURSES) {
        var course = window.VAULT_COURSES[courseId];
        var lessonCount = course.lessons ? course.lessons.length : 0;
        
        // Find element by ID (e.g., gs-eighth-note-progress)
        var el = document.getElementById(courseId + '-progress');
        if (el) {
          if (lessonCount > 0) {
            el.textContent = lessonCount + ' lesson' + (lessonCount === 1 ? '' : 's');
          } else {
            el.textContent = 'Coming Soon';
          }
        }
      }
    }
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', updateLessonCounts);
    } else {
      updateLessonCounts();
    }
  })();
  </script>

</body>
</html>
